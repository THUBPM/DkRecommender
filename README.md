# README

1. code\

	1.1. lib\
		It contains .jar file used for read and write json.

	1.2. src\DeleteInvalidProcesses.java
		This file is used to ensure that all models are lowercased and only letters are remained, and non-English models and the ones without activity names are deleted from the dataset. It also rewrite the .json files from BPMAI.

		line 26 root: root directory
		line 28 coverOldFile: replace old file or not

	1.3. src\transforming to petri nets
		The files in this directory are used to transform BPMN processes to Petri nets. The two files are for slient and visible strategy respectively.

		TransformToPetriNet_*.java:
			line 26 root: root directory
			line 28 coverOldFile: replace old file or not

	1.4. src\extracting relations when k = 1
		The files in this directory are used to extract relations for D1Recommender.

		1.4.1. LRD\
			The files here are used to extract relations from LRD, i.e. the generated Petri nets. Three kinds of relations are extracted by different files.

			ExtractRelationship_*.java:
				line 25 root: root directory
				line 27 coverOldFile: replace old file or not
				line 28 outputRoot: output directory

		1.4.2. SRD&SSD\
			The files here are used to extract relations from SRD or SSD, i.e. the matrix used in [1]. Three kinds of relations are extracted by different files.

			FromMatrixToRelationship_*.java:
				line 15 rootPath: root directory
				line 16 workflowFileName: input file
				line 17 outputRoot: output directory

		1.2. src\DkRecommender.java
				This file reads the relation sets when k = 1, then it extracts the relation sets when k = 1 to gram+1 and doing recommendation. 

				line 22 inputRoot: input directory
				line 23 outputRoot: output directory
				line 25 entityIdFile: activity names to ids
				line 26 relationIdFile: relations to ids
				line 27 graphIdFile: model names to ids
				line 29 trainFile: training set
				line 30 testFile: testing set
				line 31 fileList: 5 sets when fiveFold = true
				line 32 validFile: validation set
				line 34 logString: log file prefix
				line 35 gram: gram = max(k) - 1
				line 36 fiveFold: ture if using fiveFold

2. dataset\

	2.1. LRD\
		You can get LRD from http://bpmai.org/. This is a large real-life dataset. It is only free for academic propose.

	2.2. SRD\
		This is the small real-life dataset first used in [1]. It is collected from a district government in Hangzhou city, China.

		2.2.1. raw workflow\
			In this folder, each doc or xls file contains the flowchart and description of raw workflows.

		2.2.2. final workflow\
			workflow.txt
				[1] has already converted raw workflows to matrix format. Each matrix represents a workflow converted from raw workflow manually. The elements in the matrix's diagonal denote activity nodes in raw workflows, while the other elements represent edges in raw workflows.

				For Example, the workflow "a to b to d to c" can be represented as matrix:
				[a 1 0 0]
				[0 b 0 1]
				[0 0 c 0]
				[0 0 1 d]

	2.3. SSD\
		These are the small synthetic datasets generated and used in [1]. They are generated by the method similar with the one proposed by [2].

		2.3.1. rules.txt
			This is a transitional probability matrix M which decides the order of nodes appearing in synthetic workflows.

		2.3.2. synthetic workflow\
			Each file contains synthetic workflows in matrix format. The elements in the matrix's diagonal denote activity nodes in workflow, while the other elements represent edges in workflows.

3. result\

	Result files are the output files.

[1] Deng, S., Wang, D., Li, Y., Cao, B., Yin, J., & Wu, Z., et al. A recommendation system to facilitate business process modeling. IEEE Transactions on Cybernetics, 47(6), 1380-1394. (2017).

[2] Zhang, J., Liu, Q., & Xu, K. FlowRecommender: a workflow recommendation technique for process provenance. Eighth Australasian Data Mining Conference. (2009).